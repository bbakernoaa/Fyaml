

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="description" content="A modern lightweight Fortran YAML parser">
    <meta name="author" content="Barry Baker and Zach Moon" >
    <link rel="icon" href="./favicon.png">

    <title> Fyaml </title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link href="./css/pygments.css" rel="stylesheet">
    <link href="./css/font-awesome.min.css" rel="stylesheet">
    <link href="./css/local.css" rel="stylesheet">
      <link  href="./tipuesearch/tipuesearch.css" rel="stylesheet">

    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script src="./js/svg-pan-zoom.min.js"></script>
  </head>

  <body>

    <!-- Fixed navbar -->
    <div class="container-fluid mb-sm-4 mb-xl-2">
      <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container">
          <a class="navbar-brand" href="./index.html">Fyaml <small>0.1.0</small></a>
          <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar"
                  aria-expanded="false" aria-controls="navbar" aria-label="Toggle navigation">
                  <span class="navbar-toggler-icon">
          </button>

          <div id="navbar" class="navbar-collapse collapse">
            <ul class="navbar-nav">
                <li class="nav-item"><a class="nav-link" href="page/index.html">Fyaml</a></li>
                  <li class="nav-item">
                    <a class="nav-link" href="./lists/files.html">Source Files</a>
                  </li>
                <li class="nav-item">
                  <a class="nav-link" href="./lists/modules.html">Modules</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="./lists/procedures.html">Procedures</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="./lists/types.html">Derived Types</a>
                </li>
            </ul>
              <div class="d-flex align-items-end flex-grow-1">
                <form action="./search.html" role="search" class="ms-auto">
                  <input type="text" class="form-control" aria-label="Search" placeholder="Search" name="q" id="tipue_search_input" autocomplete="off" required>
                </form>
              </div>
          </div><!--/.nav-collapse -->
        </div>
      </nav>
    </div>

    <div class="container">
  <!-- Main component for a primary marketing message or call to action -->
    <div class="p-5 mb-4 bg-light border rounded-3" id="jumbotron">
      <p>A modern lightweight Fortran YAML parser</p>
        <p> Find us on&hellip;</p>
      <p>
        <a class="btn btn-lg btn-primary" href="https://github.com/bbakernoaa/Fyaml" role="button">GitHub</a>
        
        
        
        <a class="btn btn-lg btn-primary" href="https://github.com" role="button">The Web</a>
      </p>
    </div>

      <div class="row" id='text'>
        <div class=col-md-8>
          <h1>Fyaml</h1>
          <h1>fyaml - A Modern Fortran YAML Parser</h1>
<p>A feature-rich YAML parser written in modern Fortran, supporting complex data structures and designed for scientific computing applications.</p>
<h2>Key Features</h2>
<ul>
<li><strong>Comprehensive YAML Support</strong></li>
<li>Full support for YAML 1.2 specification</li>
<li>Multi-document processing</li>
<li>Complex nested structures</li>
<li>
<p>Sequence and mapping support</p>
</li>
<li>
<p><strong>Rich Data Type Support</strong></p>
</li>
<li>Strings, integers, floats (single/double precision)</li>
<li>Booleans with multiple formats (true/false, yes/no, on/off)</li>
<li>Date and time parsing</li>
<li>Null values</li>
<li>
<p>Multi-line strings</p>
</li>
<li>
<p><strong>Advanced Features</strong></p>
</li>
<li>Dot notation for nested access (e.g., "config.database.host")</li>
<li>Array and sequence iteration</li>
<li>Automatic type conversion</li>
<li>Memory-safe implementation</li>
<li>Error handling with detailed messages</li>
</ul>
<h2>Requirements</h2>
<ul>
<li>Fortran 2008 compliant compiler (gfortran 8.0+ or ifort 19.0+)</li>
<li>CMake 3.12+</li>
</ul>
<h2>Installation</h2>
<div class="codehilite"><pre><span></span><code>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/yourusername/fyaml.git
<span class="nb">cd</span><span class="w"> </span>fyaml
mkdir<span class="w"> </span>build<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">cd</span><span class="w"> </span>build
cmake<span class="w"> </span>..
make
make<span class="w"> </span>install
</code></pre></div>

<h2>Usage Examples</h2>
<p>1) Create a complex YAML configuration:</p>
<div class="codehilite"><pre><span></span><code><span class="nt">simulation</span><span class="p">:</span>
<span class="w">  </span><span class="nt">parameters</span><span class="p">:</span>
<span class="w">    </span><span class="nt">timestep</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.01</span>
<span class="w">    </span><span class="nt">max_iterations</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1000</span>
<span class="w">    </span><span class="nt">tolerances</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1.0e-6</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1.0e-8</span>
<span class="w">  </span><span class="nt">output</span><span class="p">:</span>
<span class="w">    </span><span class="nt">format</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">netcdf</span>
<span class="w">    </span><span class="nt">variables</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">temperature</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">pressure</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">velocity</span><span class="p p-Indicator">]</span>
<span class="w">    </span><span class="nt">frequency</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100</span>
</code></pre></div>

<p>2) Parse and access data:</p>
<div class="codehilite"><pre><span></span><code><span class="k">program </span><span class="n">simulation_setup</span>
<span class="w">    </span><span class="k">use </span><span class="n">fyaml</span>

<span class="w">    </span><span class="k">type</span><span class="p">(</span><span class="n">fyaml_doc</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">config</span>
<span class="w">    </span><span class="k">type</span><span class="p">(</span><span class="n">yaml_value</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">val</span>
<span class="w">    </span><span class="kt">real</span><span class="p">(</span><span class="n">dp</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">timestep</span>
<span class="w">    </span><span class="kt">character</span><span class="p">(</span><span class="nb">len</span><span class="o">=</span><span class="p">:),</span><span class="w"> </span><span class="k">allocatable</span><span class="p">,</span><span class="w"> </span><span class="k">dimension</span><span class="p">(:)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">variables</span>

<span class="w">    </span><span class="c">! Load configuration</span>
<span class="w">    </span><span class="k">call </span><span class="n">config</span><span class="p">%</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;simulation.yaml&quot;</span><span class="p">)</span>

<span class="w">    </span><span class="c">! Get scalar values using dot notation</span>
<span class="w">    </span><span class="n">timestep</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">config</span><span class="p">%</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;simulation.parameters.timestep&quot;</span><span class="p">)%</span><span class="n">get_real</span><span class="p">()</span>

<span class="w">    </span><span class="c">! Get array of strings</span>
<span class="w">    </span><span class="n">variables</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">config</span><span class="p">%</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;simulation.output.variables&quot;</span><span class="p">)%</span><span class="n">get_string_array</span><span class="p">()</span>

<span class="w">    </span><span class="c">! Check if a key exists</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">config</span><span class="p">%</span><span class="n">has_key</span><span class="p">(</span><span class="s2">&quot;simulation.output.format&quot;</span><span class="p">))</span><span class="w"> </span><span class="k">then</span>
<span class="k">        print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Output format:&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">config</span><span class="p">%</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;simulation.output.format&quot;</span><span class="p">)%</span><span class="n">get_str</span><span class="p">()</span>
<span class="w">    </span><span class="k">end if</span>
<span class="k">end program</span>
</code></pre></div>

<p>3) Working with sequences and mappings:</p>
<div class="codehilite"><pre><span></span><code><span class="c">! Iterate over sequence</span>
<span class="k">type</span><span class="p">(</span><span class="n">yaml_value</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">tolerances</span>
<span class="n">tolerances</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">config</span><span class="p">%</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;simulation.parameters.tolerances&quot;</span><span class="p">)</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">tolerances</span><span class="p">%</span><span class="n">is_sequence</span><span class="p">())</span><span class="w"> </span><span class="k">then</span>
<span class="k">    do </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">tolerances</span><span class="p">%</span><span class="n">size</span><span class="p">()</span>
<span class="w">        </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Tolerance&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;:&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">tolerances</span><span class="p">%</span><span class="n">get</span><span class="p">(</span><span class="n">i</span><span class="p">)%</span><span class="n">get_real</span><span class="p">()</span>
<span class="w">    </span><span class="k">end do</span>
<span class="k">end if</span>
</code></pre></div>

<p>4) Getting all keys from a YAML document:</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># Example configuration</span>
<span class="nt">database</span><span class="p">:</span>
<span class="w">  </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">localhost</span>
<span class="w">  </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5432</span>
<span class="nt">logging</span><span class="p">:</span>
<span class="w">  </span><span class="nt">level</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">debug</span>
<span class="w">  </span><span class="nt">file</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app.log</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="k">program </span><span class="n">key_example</span>
<span class="w">    </span><span class="k">use </span><span class="n">fyaml</span>

<span class="w">    </span><span class="k">type</span><span class="p">(</span><span class="n">fyaml_doc</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">config</span>
<span class="w">    </span><span class="k">type</span><span class="p">(</span><span class="n">yaml_value</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">root_value</span><span class="p">,</span><span class="w"> </span><span class="n">db_value</span>
<span class="w">    </span><span class="kt">character</span><span class="p">(</span><span class="nb">len</span><span class="o">=</span><span class="p">:),</span><span class="w"> </span><span class="k">allocatable</span><span class="p">,</span><span class="w"> </span><span class="k">dimension</span><span class="p">(:)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">root_keys</span><span class="p">,</span><span class="w"> </span><span class="n">db_keys</span>

<span class="w">    </span><span class="c">! Load configuration</span>
<span class="w">    </span><span class="k">call </span><span class="n">config</span><span class="p">%</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;config.yaml&quot;</span><span class="p">)</span>

<span class="w">    </span><span class="c">! Get all root level keys</span>
<span class="w">    </span><span class="n">root_value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">config</span><span class="p">%</span><span class="n">root</span>
<span class="w">    </span><span class="n">root_keys</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">root_value</span><span class="p">%</span><span class="n">get_keys</span><span class="p">()</span>
<span class="w">    </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Root level keys:&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">root_keys</span><span class="w">  </span><span class="c">! Will print: database, logging</span>

<span class="w">    </span><span class="c">! Get keys from nested section</span>
<span class="w">    </span><span class="n">db_value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">config</span><span class="p">%</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;database&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">db_keys</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">db_value</span><span class="p">%</span><span class="n">get_keys</span><span class="p">()</span>
<span class="w">    </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Database keys:&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">db_keys</span><span class="w">  </span><span class="c">! Will print: host, port</span>

<span class="w">    </span><span class="c">! Check if specific keys exist</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">root_value</span><span class="p">%</span><span class="n">has_key</span><span class="p">(</span><span class="s2">&quot;database&quot;</span><span class="p">))</span><span class="w"> </span><span class="k">then</span>
<span class="k">        print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Database configuration found!&quot;</span>
<span class="w">    </span><span class="k">end if</span>
<span class="k">end program</span>
</code></pre></div>

<h2>Error Handling</h2>
<div class="codehilite"><pre><span></span><code><span class="kt">logical</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">success</span>
<span class="kt">character</span><span class="p">(</span><span class="nb">len</span><span class="o">=</span><span class="p">:),</span><span class="w"> </span><span class="k">allocatable</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">error_msg</span>

<span class="k">call </span><span class="n">config</span><span class="p">%</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;config.yaml&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">success</span><span class="p">,</span><span class="w"> </span><span class="n">error_msg</span><span class="p">)</span>
<span class="k">if</span><span class="w"> </span><span class="p">(.</span><span class="nb">not</span><span class="p">.</span><span class="w"> </span><span class="n">success</span><span class="p">)</span><span class="w"> </span><span class="k">then</span>
<span class="k">    print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Error loading YAML:&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">error_msg</span>
<span class="w">    </span><span class="k">error stop</span>
<span class="k">end if</span>
</code></pre></div>

<h2>Testing</h2>
<div class="codehilite"><pre><span></span><code>ctest<span class="w"> </span>--test-dir<span class="w"> </span>build/tests<span class="w"> </span>--output-on-failure
</code></pre></div>

<h2>Documentation</h2>
<p>Documentation is generated using FORD. To build:</p>
<div class="codehilite"><pre><span></span><code>ford<span class="w"> </span>docs.md
</code></pre></div>

<h2>License</h2>
<p>GNU General Public License v3.0</p>
<h2>Contributing</h2>
<p>Contributions welcome! Please read CONTRIBUTING.md for guidelines.</p>
<h2>Disclaimer</h2>
<p>The United States Department of Commerce (DOC) GitHub project code is
provided on an 'as is' basis and the user assumes responsibility for
its use.  DOC has relinquished control of the information and no
longer has responsibility to protect the integrity, confidentiality,
or availability of the information.  Any claims against the Department
of Commerce stemming from the use of its GitHub project will be
governed by all applicable Federal law.  Any reference to specific
commercial products, processes, or services by service mark,
trademark, manufacturer, or otherwise, does not constitute or imply
their endorsement, recommendation or favoring by the Department of
Commerce.  The Department of Commerce seal and logo, or the seal and
logo of a DOC bureau, shall not be used in any manner to imply
endorsement of any commercial product or activity by DOC or the United
States Government.</p>
        </div>
          <div class="col-md-4">
            <div class="card card-body bg-light">
                <img src="media/FYAML.png" alt="Developer picture" class="card-img-top">
              <h2 class="card-title">Developer Info</h2>
              <h4 class="card-text">Barry Baker and Zach Moon</h4>
              <p class="card-text"></p>
            </div>
          </div>
      </div>
        <div class="row">
          <hr>
          <div class="col-xs-6 col-sm-3">
            <div>
              <h3>Source Files</h3>
              <ul><li><a href='sourcefile/fyaml.f90.html'>fyaml.F90</a></li><li><a href='sourcefile/yaml_parser.f90.html'>yaml_parser.F90</a></li><li><a href='sourcefile/yaml_types.f90.html'>yaml_types.F90</a></li></ul>
            </div>
            <div>
              <ul>
                <li><a href="./lists/files.html"><em>All source files&hellip;</em></a></li>
              </ul>
            </div>
          </div>
          <div class="col-xs-6 col-sm-3">
            <div>
              <h3>Modules</h3>
              <ul><li><a href='module/fyaml.html'>fyaml</a></li><li><a href='module/yaml_parser.html'>yaml_parser</a></li><li><a href='module/yaml_types.html'>yaml_types</a></li></ul>
            </div>
            <div>
              <ul>
                <li><a href="./lists/modules.html"><em>All modules&hellip;</em></a></li>
              </ul>
            </div>
          </div>
          <div class="col-xs-6 col-sm-3">
            <div>
              <h3>Procedures</h3>
              <ul><li><a href='proc/add_sequence_item.html'>add_sequence_item</a></li><li><a href='proc/check_key_hierarchy.html'>check_key_hierarchy</a></li><li><a href='interface/check_sequence.html'>check_sequence</a></li><li><a href='proc/check_sequence_node.html'>check_sequence_node</a></li><li><a href='proc/cleanup_indent_history.html'>cleanup_indent_history</a></li></ul>
            </div>
            <div>
              <ul>
                <li><a href="./lists/procedures.html"><em>All procedures&hellip;</em></a></li>
              </ul>
            </div>
          </div>
          <div class="col-xs-6 col-sm-3">
            <div>
              <h3>Derived Types</h3>
              <ul><li><a href='type/fyaml_doc.html'>fyaml_doc</a></li><li><a href='type/indent_tracker.html'>indent_tracker</a></li><li><a href='type/stack_entry.html'>stack_entry</a></li><li><a href='type/yaml_dict.html'>yaml_dict</a></li><li><a href='type/yaml_document.html'>yaml_document</a></li></ul>
            </div>
            <div>
              <ul>
                <li><a href="./lists/types.html"><em>All derived types&hellip;</em></a></li>
              </ul>
            </div>
          </div>
        </div>
      <hr>
    </div> <!-- /container -->
    <footer>
      <div class="container">
        <div class="row justify-content-between">
          <div class="col">
            <p>
              Fyaml
 was developed by Barry Baker and Zach Moon<br>              &copy; 2024 
</p>
          </div>
          <div class="col">
            <p class="text-end">
              Documentation generated by
              <a href="https://github.com/Fortran-FOSS-Programmers/ford">FORD</a>
 on "2025-01-23 13:49 +0000" <br>&copy; <a rel="license" href="http://www.gnu.org/licenses/old-licenses/fdl-1.2.en.html">GNU Free Documentation License</a>             </p>
          </div>
        </div>
        <br>
      </div> <!-- /container -->
    </footer>

    <!-- Bootstrap core JavaScript -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>    

    <!-- MathJax JavaScript
             ================================================== -->
             <!-- Placed at the end of the document so the pages load faster -->
        <script type="text/x-mathjax-config">
          MathJax.Hub.Config({
          TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } },
          jax: ['input/TeX','input/MathML','output/HTML-CSS'],
          extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']
          });
        </script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

          <script src="./tipuesearch/tipuesearch_content.js"></script>
          <script src="./tipuesearch/tipuesearch_set.js"></script>
          <script src="./tipuesearch/tipuesearch.js"></script>

  </body>
</html>